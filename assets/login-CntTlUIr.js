import{d as s,e as t,h as a,G as c}from"./app-Baa_I9Dq.js";function i(r){const n=document.querySelectorAll(".auth-error"),e=r.errors&&Array.isArray(r.errors)?r.errors.map(o=>o.message).join("<br>"):r.error&&r.error.message?r.error.message:"An unknown error occurred.";n.forEach(o=>{o.innerHTML=e}),console.error("Auth error:",e)}async function l({email:r,password:n}){try{const e=await s(`${t}`,{method:"POST",body:{email:r,password:n}});return a(e),!0}catch(e){const o=JSON.parse(e.message.split(". ")[1]||"{}");throw console.error("Login error details:",o),i(o),e}}async function m(r){r.preventDefault();const n={email:document.getElementById("login-email").value,password:document.getElementById("login-password").value},e=document.getElementById("login-error");try{await l(n)&&(window.location.href=`${c}`)}catch(o){e.innerText=`${o.message}`}}export{i as a,m as o};
