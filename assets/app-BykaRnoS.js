const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/home-DxKDnxAe.js","assets/bid-BQNS7Qct.js","assets/login-DBvZSmL0.js","assets/error-CnYwh7_F.js","assets/register-C4c2dOd0.js","assets/listing-CucP4Qc-.js","assets/getFromUrl-l7KgJi7t.js","assets/profile-Cq9xuNGf.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const S="modulepreload",D=function(t){return"/Semester-Project-2/"+t},E={},f=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");r=Promise.allSettled(n.map(l=>{if(l=D(l),l in E)return;E[l]=!0;const s=l.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":S,s||(d.as="script"),d.crossOrigin="",d.href=l,i&&d.setAttribute("nonce",i),document.head.appendChild(d),s)return new Promise((m,h)=>{d.addEventListener("load",m),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return r.then(c=>{for(const i of c||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})};async function $(t=window.location.pathname){let n=t.replace("/Semester-Project-2","").replace(/\/index\.html$/,"/"),o;switch(n){case"Semester-Project-2/":o=await f(()=>import("./home-DxKDnxAe.js"),__vite__mapDeps([0,1]));break;case"/auth/login/":o=await f(()=>import("./login-DBvZSmL0.js"),__vite__mapDeps([2,3]));break;case"/auth/register/":o=await f(()=>import("./register-C4c2dOd0.js"),__vite__mapDeps([4,3]));break;case"/listing/":o=await f(()=>import("./listing-CucP4Qc-.js"),__vite__mapDeps([5,1,6]));break;case"/listing/create/":o=await f(()=>import("./listingCreate-maOfhXRz.js"),[]);break;case"/profile/":o=await f(()=>import("./profile-Cq9xuNGf.js"),__vite__mapDeps([7,6]));break;default:o=await f(()=>import("./notFound-BNXFWLKC.js"),[])}o&&typeof o.default=="function"&&o.default()}async function Z(t){return t.data.accessToken&&localStorage.setItem("accessToken",t.data.accessToken),localStorage.getItem("accessToken")}const g=localStorage.getItem("accessToken");class p extends Error{}p.prototype.name="InvalidTokenError";function k(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let o=n.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function B(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return k(e)}catch{return atob(e)}}function x(t,e){if(typeof t!="string")throw new p("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,o=t.split(".")[n];if(typeof o!="string")throw new p(`Invalid token specified: missing part #${n+1}`);let r;try{r=B(o)}catch(a){throw new p(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(r)}catch(a){throw new p(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}function M(){const t=localStorage.getItem("accessToken");return t?x(t):(console.warn("Access token is missing. User is not logged in."),null)}const y="efffe6d5-fb4b-4a2c-a744-5dd884d1924e",T="https://v2.api.noroff.dev",I=`${T}/auth`,ee=`${I}/login`,te=`${I}/register`,P=`${T}/auction`,b=`${P}/listings`,U=`${P}/profiles`;function H(t="GET",e=!0){const n=new Headers;return t!=="GET"&&n.append("Content-Type","application/json"),e&&y&&g&&(n.append("Authorization",`Bearer ${g}`),n.append("X-Noroff-API-Key",y)),n}async function A(t,{method:e="GET",body:n,...o}={}){const r={method:e,headers:H(e),...o};e!=="GET"&&n&&(r.body=JSON.stringify(n));try{const a=await fetch(t,r);if(a.status===204||a.headers.get("Content-Length")==="0")return null;if(!a.ok){const c=await a.text();throw new Error(`HTTP error! Status: ${a.status}. ${c}`)}return await a.json()}catch(a){throw console.error("Fetching error:",a.message),a}}async function O(t,{_listings:e,_wins:n}={}){const o=new URL(`${U}/${t}`);e&&o.searchParams.append("_listings","true"),n&&o.searchParams.append("_wins","true");try{return(await A(o)).data}catch(r){throw console.error("Error fetching user profile:",r),r}}const C=document.getElementById("menu-create"),R=document.getElementById("menu-register"),j=document.getElementById("menu-login"),N=document.getElementById("menu-logout"),L=document.getElementById("menu-profile"),q=document.getElementById("burger"),v=document.getElementById("menu");async function G(){if(q.addEventListener("click",t=>{t.preventDefault(),v.classList.toggle("hidden"),v.classList.toggle("flex")}),g){const t=M();C.classList.remove("hidden"),R.classList.add("hidden"),j.classList.add("hidden"),N.classList.remove("hidden");const e=await O(t.name);L.classList.remove("hidden"),L.href=`/profile/?name=${e.name}`;const n=document.getElementById("menu-avatar");n.classList.remove("hidden"),n.src=e.avatar.url,n.alt=e.avatar.alt}}function V(t){t.preventDefault(),localStorage.accessToken&&(localStorage.removeItem("accessToken"),location.reload())}function F(){document.getElementById("menu-logout").addEventListener("click",e=>V(e))}function K(){const t=document.createElement("div");return t.classList.add("loader","absolute","inset-0","flex","justify-center","items-center"),t.innerHTML=`
    <div class="loader-ball animate-bounce1 w-4 h-4 bg-focusBlue rounded-full"></div>
    <div class="loader-ball animate-bounce2 w-6 h-6 bg-primaryBlue rounded-full"></div>
    <div class="loader-ball animate-bounce3 w-8 h-8 bg-hoverBlue rounded-full"></div>
  `,t}function W(t){return new Date(t)<=new Date}async function Y({sort:t="created",sortOrder:e="desc",limit:n=100,page:o=1,_seller:r,_bids:a=!0,_tag:c,_active:i=!0,search:l=""}={}){let s;l?(s=new URL(`${b}/search`),s.searchParams.append("q",l)):(s=new URL(`${b}`),s.searchParams.append("sort",t),s.searchParams.append("sortOrder",e),s.searchParams.append("limit",n),s.searchParams.append("page",o),c&&s.searchParams.append("_tag",c),r&&s.searchParams.append("_seller",r),a&&s.searchParams.append("_bids","true"),i&&s.searchParams.append("_active","true"));try{return(await A(s)).data.filter(h=>!W(h.endsAt))}catch(u){throw console.error("Fetching error:",u.message),u}}function J(t){const o=new Date(t)-new Date;if(o<=0)return"Expired";const r=Math.floor(o/(1e3*60*60*24)),a=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60));return`Ends in ${r} d ${a} h ${c} min`}function z(t){let e={amount:0,bidder:{name:"No bids yet"}};return t.bids&&t.bids.length>0&&t.bids.forEach(n=>{n.amount>e.amount&&(e=n)}),e}function X(t){const e=`/listing/index.html?id=${t.id}`;return window.location.href=e,e}function _(t,e){e.classList.add("regular-padding","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-3"),t.forEach(n=>{const o=document.createElement("div");o.classList.add("flex","flex-col","gap-3","w-full","cursor-pointer"),o.onclick=function(){X(n)};const r=document.createElement("div");r.classList.add("overflow-hidden","w-full","h-80");const a=document.createElement("img");if(a.classList.add("w-full","h-full","object-cover"),Array.isArray(n.media)&&n.media.length>0){const d=n.media[0];a.src=d.url||"https://images.unsplash.com/photo-1602052793312-b99c2a9ee797?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",a.alt=d.alt||d.url||"Example image"}else a.src="https://images.unsplash.com/photo-1602052793312-b99c2a9ee797?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",a.alt="Example image";const c=document.createElement("div"),i=document.createElement("h3");i.innerHTML=n.title;const l=document.createElement("p");l.innerHTML="Current bid: ";const s=document.createElement("span");s.innerHTML=z(n).amount,s.classList.add("font-semibold"),l.appendChild(s);const u=document.createElement("p");u.innerHTML=J(n.endsAt),c.append(i,l),r.appendChild(a),o.append(r,c,u),e.appendChild(o)})}async function Q(){const t=document.querySelector("form[name='search']"),e=document.querySelector("input[name='search']"),n=document.querySelector("main");t.addEventListener("submit",async o=>{o.preventDefault();const r=e.value.trim();if(!r)return;const c=`${window.location.origin}/?q=${encodeURIComponent(r)}`;window.history.replaceState({},document.title,c),n.innerHTML="";const i=document.createElement("div");n.append(i);const l=document.createElement("h1");l.innerHTML="Search results for: ",l.classList.add("regular-padding");const s=document.createElement("span");s.classList.add("font-tinos","italic","text-primaryBlue"),s.innerHTML=`${r}`,l.appendChild(s);const u=document.createElement("p");n.append(u);const d=K();i.append(d);try{const m=await Y({search:r,limit:12});if(d.remove(),n.prepend(l),m.length===0){u.innerHTML=`Sorry, no results found for "${r}". Try another search.`;return}else m.length===1?(u.innerHTML=m.length+` result for "${r}".`,_(m,i)):m.length>1&&(u.innerHTML=m.length+` results for "${r}".`,_(m,i))}catch(m){console.error("Error fetching search results:",m),i.innerHTML="<p>Error fetching results. Please try again later.</p>"}})}await $(window.location.pathname);const w=document.createElement("script");w.src="https://kit.fontawesome.com/7d99a0a315.js";w.crossOrigin="anonymous";document.head.appendChild(w);G();F();await Q();document.addEventListener("DOMContentLoaded",()=>{const t="/semester-project-2";document.querySelectorAll("a[href^='/']").forEach(e=>{e.href=t+e.getAttribute("href")}),document.querySelectorAll("img[src^='/']").forEach(e=>{e.src=t+e.getAttribute("src")})});export{ee as A,g as a,K as b,J as c,A as d,Z as e,z as f,Y as g,te as h,b as i,M as j,U as k,X as l,O as m};
